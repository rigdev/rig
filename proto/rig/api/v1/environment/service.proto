syntax = "proto3";

package api.v1.environment;

import "api/v1/environment/environment.proto";
import "model/common.proto";

service Service {
  // List available environments.
  rpc List(ListRequest) returns (ListResponse) {}
  rpc GetNamespaces(GetNamespacesRequest) returns (GetNamespacesResponse) {}
}

// Request for listing available environments.
message ListRequest {
  model.Pagination pagination = 2; // Pagination options.
}


// Response for listing available environments.
message ListResponse {
  repeated api.v1.environment.Environment environments = 1; // List of environments.
  string platform_version = 2; // The version of the Rig-platform.
}

message ProjectEnvironment {
  string project_id = 1;
  string environment_id = 2;
}

message ProjectEnvironmentNamespace {
  string project_id = 1;
  string environment_id = 2;
  string namespace = 3;
}

message GetNamespacesRequest {
    repeated ProjectEnvironment project_envs = 1;
}

message GetNamespacesResponse {
  repeated ProjectEnvironmentNamespace namespaces = 2;
}

